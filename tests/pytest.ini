[tool:pytest]
# Configuration for EXPERIMENTAL subproject testing
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Test discovery
testpaths = 
    tests/unit
    tests/integration
    tests/browser_automation
    tests/performance

# Markers for test categorization
markers =
    unit: Unit tests for isolated component testing
    integration: Integration tests for component interaction
    browser: Browser automation tests requiring WebDriver
    performance: Performance benchmark tests
    headless: Tests specifically for headless mode functionality
    contract: Contract tests for API compliance
    slow: Tests that take longer than 5 seconds

# Minimum version requirements
minversion = 6.0

# Add current directory to Python path for EXPERIMENTAL imports
addopts = 
    --strict-markers
    --strict-config
    --verbose
    -ra
    --tb=short
    --durations=10

# Browser test configuration
# Use headless mode by default for CI environments
# Set PYTEST_VISIBLE=1 to run browser tests in visible mode
filterwarnings =
    ignore::UserWarning
    ignore::DeprecationWarning:selenium.*

# Async test support
asyncio_mode = auto

# Coverage configuration (when pytest-cov is available)
# --cov=EXPERIMENTAL
# --cov-report=term-missing
# --cov-report=html:tests/htmlcov
# --cov-fail-under=80